<div class="container">
  <h1>Cadastre-se</h1>
  <ng-container *ngIf="cadastrado">
    <p>Cadastro realizado !</p>
    <ion-button (click)="gotoLogin()">Fazer login</ion-button>
  </ng-container>
  <ng-container *ngIf="!cadastrado">
    <p>preencha os dados para criamos sua conta</p>
    <form [formGroup]="form"  (ngSubmit)="onSubmit()">
      <ion-input
        clearInput 
        placeholder="Nick Name"
        formControlName="username"
      ></ion-input>
      <span class="error"
      *ngIf="form.get('username').invalid && (form.get('username').dirty || form.get('username').touched)"
      >
        <p *ngIf="form.get('username').errors.required">Campo Obrigatório</p>
      </span>
      <ion-input 
        clearInput 
        placeholder="Nome Completo"
        formControlName="fullName"
      ></ion-input>
      <span class="error"
      *ngIf="form.get('fullName').invalid && (form.get('fullName').dirty || form.get('fullName').touched)"
      >
      <p *ngIf="form.get('fullName').errors.required">Campo Obrigatório</p>
      </span>
      <ion-input 
        clearInput 
        placeholder="E-mail"
        formControlName="email"
      ></ion-input>
      <span class="error"
      *ngIf="form.get('email').invalid && (form.get('email').dirty || form.get('email').touched)"
      >
      <p *ngIf="form.get('email').errors.required">Campo Obrigatório</p>
      <p *ngIf="form.get('email').errors.email">Digite um e-mail válido.</p>
      </span>
      <ion-input 
        clearInput 
        placeholder="Senha"
        formControlName="password"
        type="password"
      ></ion-input>
      <span class="error"
      *ngIf="form.get('password').invalid && (form.get('password').dirty || form.get('password').touched)"
      >
      <p *ngIf="form.get('password').errors.required">Campo Obrigatório</p>
      <p *ngIf="form.get('password').errors.minlength">Campo deve ter no minimo 8 caracteres</p>
      </span>
      <ion-input 
        clearInput 
        placeholder="Confirme sua senha"
        formControlName="repassword"
        type="password"
      ></ion-input>
      <span class="error"
      *ngIf="form.get('repassword').invalid && (form.get('repassword').dirty || form.get('repassword').touched)"
      >
      <p *ngIf="form.get('repassword').errors.required">Campo Obrigatório</p>
      <p *ngIf="form.get('repassword').errors.minlength">Campo deve ter no minimo 8 caracteres</p>
      </span>
      <ion-button type="submit">Cadastrar</ion-button>
      <ion-button type="reset" color="danger">Cancelar</ion-button>
    </form>
    </ng-container>
</div>
